@using ICStars2_0.Areas.SHTracker.Controllers
@model IEnumerable<ICStars2_0.Areas.SHTracker.Controllers.CBOForReport>

@{
    Layout = null;
}

<!DOCTYPE html>

<html>
    <head>
        <meta name="viewport" content="width=device-width" />
        @Styles.Render("~/bundles/css")
        @Scripts.Render("~/bundles/jquery")
        <title>Site Grid Report</title>
        <style type="text/css">
            h1 { font-size: 11px; }
            h2 {font-weight: normal;font-size: 10px;}
            td {text-align: left;padding: 3px;border: solid #000 1px;vertical-align: top;}
            body { padding: 10px;font-size: 10px;line-height: 14px;}
            table {width: 900px;border: 0;text-align: center;padding: 0;margin: 0;margin-bottom: 10px;}
            td.c1,td.c2,td.c3,td.c4 {
                background-color: #000; padding: 0; text-align: center; color: #fff;
            }
            td.c1 {
                width: 200px; 
            }
                td.c2 {
                    width: 300px;
                }
                td.c3{ width: 200px;}
            td.c4 {
                width: 200px;
            }
                h1.hl{ text-align: right;}
        </style>
    </head>
    <body>
        @{ var course = (CourseForReport) ViewBag.Course; }
        <h1 class="hl">Steans Center for Community-based Service Learning & Community Service Studies</h1>
        <h1>@course.CourseName</h1>
        <h1>@course.CourseTitle</h1>
        <h2>@ViewBag.Term &nbsp;&nbsp;<b>Placement Date(s):</b> @(course.PlacementDate == DateTime.MinValue?course.PlacementDateString:course.PlacementDate.ToString("MM/dd/yyyy hh:mm tt")) &nbsp;&nbsp;<b>Location:</b> @course.ClassLocation &nbsp;&nbsp;<b>Room:</b> @course.Room</h2>
               
        @foreach (CBOForReport item in Model)
        {
            <table>
                <tr>
                    <td class="c1"><b>Site HQ Location/Contact Information</b></td>
                    <td class="c2"><b>Mission</b></td>
                    <td class="c3"><b>Opportunities/Orientation</b></td>
                    <td class="c4"><b>Additional Information</b></td>
                </tr>
                <tr>
                    <td><b>@item.CBOName</b><br/>
                        @item.CBOAddress <br/>
                        @item.CBOWebsite <br/>
                        @item.ContactFirst @item.ContactLast<br/>
                        @item.ContactPhone<br/>
                        @item.ContactEmail<br/>
                        @if (!string.IsNullOrEmpty(item.SLC) && !item.SLC.Equals("Not Assign",StringComparison.InvariantCultureIgnoreCase))
                        {
                            <br/>
                            <b>SLC:&nbsp;</b>
                            @(Html.Raw(!string.IsNullOrEmpty(item.SLC) && item.SLC.IndexOf('+') > -1 ? item.SLC.Split('+').Aggregate((x, y) => x + "<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;" + y) : item.SLC))<br/>
                        }
                    </td>
                    <td>
                        @Html.Raw(item.ServiceDescription,true) <br/>
                        @if (!string.IsNullOrEmpty(item.CBOServiceSchedule))
                        {
                            <b>Service Schedule:&nbsp;</b>
                            @item.CBOServiceSchedule
                            <br/>
                        }
                        
                    </td>
                    <td>
                        @if (!string.IsNullOrEmpty(item.Description))
                        {
                            <text>@Html.Raw(item.Description,true)</text>
                            <br/>
                        }
                        @if (!string.IsNullOrEmpty(item.OrientationDetails))
                        {
                            <b>Orientation:</b>
                            @Html.Raw(item.OrientationDetails,true)
                            <br />
                        }
                        @if (item.Class1 != null)
                        {
                            <b>Slots:</b>
                            @(item.Class1.Equals(course.CourseName) ? item.Class1SlotsTaken : item.Class2.Equals(course.CourseName) ? item.Class2SlotsTaken : item.Class3.Equals(course.CourseName) ? item.Class3SlotsTaken : item.Class4.Equals(course.CourseName) ? item.Class4SlotsTaken : 0)
                        }
                    </td>
                    <td>
                        <b>Background Check: </b>@item.BackgroundCheck<br/>
                        <b>Fingerprints: </b>@item.Fingerprints<br/>
                        <b>Confidentiality Agreement: </b>@item.ConfidentialityAgreement<br/>
                        <b>TB Test: </b>@item.TBTest<br/>
                        @if (!string.IsNullOrEmpty(item.PublicTransportation))
                        {
                            <b>Public Transportation: </b>
                            @item.PublicTransportation<br/>
                        }
@if (!string.IsNullOrEmpty(item.TransportationDetails))
{
    @Html.Raw(item.TransportationDetails,true)
}
                    
                    </td>
                </tr>
            </table>
        }
        
        
        
        <div style="float:left;width:100%;text-align:left;">
            <input type="button" value="print" onclick="$(this).hide(); window.print(); $(this).show();"/></div>
        
    </body>
</html>
