@model IEnumerable<ICStars2_0.Model.WebsiteNav>

@{
    ViewBag.Title = "List";
    Layout = "~/Areas/SHTracker/Views/Shared/_Layout.cshtml";
}
@section Head{
@Scripts.Render("~/bundles/jquery")
    <style type="text/css">
        td.tl{ text-align: left;}
        em{ font-weight: bold;color: blue;font-size: 20px;}
    </style>
    <script type="text/javascript">
        $(document).ready(function() {
            $("tr:even").addClass("bg_f9f5f6");
            $("tr:gt(0)").hover(
                function () {
                    $(this).addClass("hover");
                },
                function () {
                    $(this).removeClass("hover");
                }
            );
        });
    </script>
}
<h2>List</h2>

<p>
    @Html.ActionLink("Create New", "Create",null,new{@class="button"})
</p>
<table>
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.ID)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Name)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Link)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.LinkTitle)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.IsTargetBlank)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.IsVisible)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.ParentID)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.OrderByID)
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr><td>
            @Html.DisplayFor(modelItem => item.ID)
        </td>
        <td class="tl">
            @Html.Raw(item.Name.Replace("|--","<em>|--</em>"))
        </td>
        <td>
            <a href="@item.Link" target="_blank">@item.Link</a>
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.LinkTitle)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.IsTargetBlank)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.IsVisible)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.ParentID)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.OrderByID)
        </td>
        <td>
            @Html.ActionLink("Edit", "Edit", new { id=item.ID }) |
            @Html.ActionLink("Details", "Details", new { id=item.ID }) |
            @Html.ActionLink("Delete", "Delete", new { id=item.ID },new{onclick="if(confirm('Are you sure you want to delete ["+item.Name+"]')){return true;}return false;"})
             | @Html.ActionLink(item.HasWebpage?"EditWebpage":"CreateWebpage", item.HasWebpage ? "Edit" : "Create", "WebPage",new{Url=item.Link,Title=item.Name.Replace("|--","")},null)
        </td>
    </tr>
}

</table>
